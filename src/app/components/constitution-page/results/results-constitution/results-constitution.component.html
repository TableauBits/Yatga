<mat-accordion multi class="panel">
  <mat-expansion-panel [expanded]="false">
    <mat-expansion-panel-header>
      <mat-panel-title> Ajout des chansons dans le temps </mat-panel-title>
    </mat-expansion-panel-header>
    <app-calendar *ngIf="propertyExists('addedDate'); else missingData" [id]="'results-constitution-calendar'" [data]="calendarData"> </app-calendar>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="false">
    <mat-expansion-panel-header>
      <mat-panel-title> Répartition des années de sorties </mat-panel-title>
    </mat-expansion-panel-header>
    Résumé de :
    <mat-form-field appearance="fill">
      <mat-label> Choisir un utilisateur </mat-label>
      <mat-select [(value)]="selectedUser" (selectionChange)="newSelection()">
        <mat-option *ngFor="let user of getUserList()" value="{{user.uid}}"> {{user.displayName}} </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label> Choisir le regroupement par année </mat-label>
      <mat-select [(value)]="releaseYearGroupBy" (selectionChange)="newSelection()">
        <mat-option value="1">1 an</mat-option>
        <mat-option value="5">5 ans</mat-option>
        <mat-option value="10">10 ans</mat-option>
      </mat-select>
    </mat-form-field>
    <app-histogram *ngIf="propertyExists('releaseYear'); else missingData" [id]="'results-constitution-years-histogram'" [columns]="releaseYearHistogramColumns" [values]="releaseYearHistogramValues"> </app-histogram>
  </mat-expansion-panel>
  <mat-expansion-panel [expanded]="false">
    <mat-expansion-panel-header>
      <mat-panel-title> Répartition des langues </mat-panel-title>
    </mat-expansion-panel-header>
    Résumé de :
    <mat-form-field appearance="fill">
      <mat-label> Choisir un utilisateur </mat-label>
      <mat-select [(value)]="selectedUser" (selectionChange)="newSelection()">
        <mat-option *ngFor="let user of getUserList()" value="{{user.uid}}"> {{user.displayName}} </mat-option>
      </mat-select>
    </mat-form-field>
    <app-pie *ngIf="propertyExists('languages'); else missingData" [id]="'results-constitution-languages-pie'" [data]="languagesPieData"> </app-pie>
  </mat-expansion-panel>
</mat-accordion>

<ng-template #missingData> <br> Aucune donnée disponible. </ng-template>